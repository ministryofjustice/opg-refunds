!function(o){"use strict";var r=o.jQuery,e=o.GOVUK||{},t=function(e,t){"string"==typeof t&&(t={cookieDomain:t}),s("create",e,t),s("set","anonymizeIp",!0),s("set","displayFeaturesTask",null)};function s(){"function"==typeof o.ga&&o.ga.apply(o,arguments)}t.load=function(){var e,t,n,a,i,r;e=o,t=document,n="script",a="ga",e.GoogleAnalyticsObject=a,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,i=t.createElement(n),r=t.getElementsByTagName(n)[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",r.parentNode.insertBefore(i,r)},t.prototype.trackPageview=function(e,t,n){var a;"string"==typeof e&&(a={page:e}),"string"==typeof t&&((a=a||{}).title=t),"object"==typeof n&&(a=r.extend(a||{},n)),r.isEmptyObject(a)?s("send","pageview"):s("send","pageview",a)},t.prototype.trackEvent=function(e,t,n){var a,i={hitType:"event",eventCategory:e,eventAction:t};"string"==typeof(n=n||{}).label&&(i.eventLabel=n.label,delete n.label),(n.value||0===n.value)&&("number"!=typeof(a=parseInt(n.value,10))||isNaN(a)||(n.eventValue=a),delete n.value),n.nonInteraction&&(n.nonInteraction=1),"object"==typeof n&&r.extend(i,n),s("send",i)},t.prototype.trackSocial=function(e,t,n,a){var i={hitType:"social",socialNetwork:e,socialAction:t,socialTarget:n};r.extend(i,a),s("send",i)},t.prototype.addLinkedTrackerDomain=function(e,t,n){s("create",e,"auto",{name:t}),s("require","linker"),s(t+".require","linker"),s("linker:autoLink",[n]),s(t+".linker:autoLink",[n]),s(t+".set","anonymizeIp",!0),s(t+".set","displayFeaturesTask",null),s(t+".send","pageview")},t.prototype.setDimension=function(e,t){s("set","dimension"+e,String(t))},e.GoogleAnalyticsUniversalTracker=t,o.GOVUK=e}(window),function(r){"use strict";var o=r.jQuery,e=r.GOVUK||{},t=function(e){this.gifUrl=e,this.dimensions=[]};t.load=function(){},t.prototype.trackPageview=function(e,t,n){var a;"string"==typeof e&&(a={page:e}),"string"==typeof t&&((a=a||{}).title=t),"object"==typeof n&&(a=o.extend(a||{},n)),o.isEmptyObject(a)?this.sendToTracker("pageview"):this.sendToTracker("pageview",a)},t.prototype.trackEvent=function(e,t,n){var a={eventCategory:e,eventAction:t};(n=n||{}).label&&(a.eventLabel=n.label,delete n.label),n.value&&(a.eventValue=n.value.toString(),delete n.value),"object"==typeof n&&o.extend(a,n),this.sendToTracker("event",a)},t.prototype.trackSocial=function(e,t,n,a){var i={socialNetwork:e,socialAction:t,socialTarget:n};o.extend(i,a),this.sendToTracker("social",i)},t.prototype.addLinkedTrackerDomain=function(){},t.prototype.setDimension=function(e,t){this.dimensions["dimension"+e]=t},t.prototype.payloadParams=function(e,t){var n=o.extend({},t,this.dimensions,{eventType:e,referrer:r.document.referrer,gaClientId:this.gaClientId,windowWidth:r.innerWidth,windowHeight:r.innerHeight,screenWidth:r.screen.width,screenHeight:r.screen.height,colorDepth:r.screen.colorDepth});if(r.performance)for(var a in n.navigationType=r.performance.navigation.type.toString(),n.redirectCount=r.performance.navigation.redirectCount.toString(),r.performance.timing){var i=r.performance.timing[a];"string"!=typeof i&&"number"!=typeof i||(n["timing_"+a]=i.toString())}return n},t.prototype.sendData=function(e){var t=this.gifUrl+"?"+o.param(e);o.get(t)},t.prototype.sendToTracker=function(t,n){o(r.document).ready(function(){r.ga?r.ga(function(e){this.gaClientId=e.get("clientId"),this.sendData(this.payloadParams(t,n))}.bind(this)):this.sendData(this.payloadParams(t,n))}.bind(this))},e.GOVUKTracker=t,r.GOVUK=e}(window),function(n){"use strict";var a=n.GOVUK||{},e=function(e){if(this.trackers=[],void 0!==e.universalId){var t=e.universalId;delete e.universalId,this.trackers.push(new a.GoogleAnalyticsUniversalTracker(t,e))}if(void 0!==e.govukTrackerUrl){var n=e.govukTrackerUrl;delete e.govukTrackerUrl,this.trackers.push(new a.GOVUKTracker(n))}};e.prototype.sendToTrackers=function(e,t){for(var n=0,a=this.trackers.length;n<a;n++){var i=this.trackers[n],r=i[e];"function"==typeof r&&r.apply(i,t)}},e.load=function(){a.GoogleAnalyticsUniversalTracker.load(),a.GOVUKTracker.load()},e.prototype.trackPageview=function(e,t,n){this.sendToTrackers("trackPageview",arguments)},e.prototype.trackEvent=function(e,t,n){this.sendToTrackers("trackEvent",arguments)},e.prototype.trackShare=function(e,t){this.sendToTrackers("trackSocial",[e,"share",n.location.pathname,t])},e.prototype.setDimension=function(e,t){this.sendToTrackers("setDimension",arguments)},e.prototype.addLinkedTrackerDomain=function(e,t,n){this.sendToTrackers("addLinkedTrackerDomain",arguments)},a.Analytics=e,n.GOVUK=a}(window),function(e){"use strict";var r=e.jQuery,o=e.GOVUK||{};o.analyticsPlugins=o.analyticsPlugins||{},o.analyticsPlugins.externalLinkTracker=function(){var e='a[href^="http"]:not(a[href*="'+o.analyticsPlugins.externalLinkTracker.getHostname()+'"])';r("body").on("click",e,function(e){var t=function(e){var t=r(e.target);t.is("a")||(t=t.parents("a"));return t}(e),n={transport:"beacon"},a=t.attr("href"),i=r.trim(t.text());i&&(n.label=i);o.analytics.trackEvent("External Link Clicked",a,n)})},o.analyticsPlugins.externalLinkTracker.getHostname=function(){return e.location.hostname},e.GOVUK=o}(window),function(e){"use strict";var s=e.jQuery,o=e.GOVUK||{};o.analyticsPlugins=o.analyticsPlugins||{},o.analyticsPlugins.formErrorTracker=function(){for(var e=s(".error-summary-list li a"),t=0;t<e.length;t++)n(e[t]);function n(e){var t=s(e),n=s.trim(t.text()),a=t.attr("href"),i=function(e){var t,n,a=s(e).attr("href"),i=s(a),r=(i.is("legend"),i.is("input"),i.prop("id")),o=document.getElementById(r).nodeName.toLowerCase();"input"===o?(t=s.trim(s('label[for="'+r+'"] .question-text').text()),n=s.trim(i.closest("fieldset").find("legend").text()),t=0<n.length?n+": "+t:t):"legend"===o&&(t=s.trim(i.find(".question-text").text()));return t}(e),r={transport:"beacon",label:a+" - "+n};window.optionsGlobal=r,o.analytics.trackEvent("Error-field",i,r)}},e.GOVUK=o}(window),GOVUK.analyticsSetup=function(e){"use strict";e.jQuery;var t=e.GOVUK||{},n=e.gaConfig||{};t.Analytics.load();var a="powerofattorneyrefund.service.justice.gov.uk"===document.domain?".powerofattorneyrefund.service.justice.gov.uk":document.domain;t.analytics=new t.Analytics({universalId:n.universalId||"",cookieDomain:a}),void 0!==n.sessionId&&t.analytics.setDimension(n.dimensions.ANONYMOUS_SESSION_ID,n.sessionId),void 0!==n.releaseTag&&t.analytics.setDimension(n.dimensions.RELEASE_TAG,n.releaseTag),t.analyticsPlugins.formErrorTracker(),t.analyticsPlugins.externalLinkTracker(),void 0!==t.pageviewOptions?t.analytics.trackPageview(null,null,t.pageviewOptions):t.analytics.trackPageview()},GOVUK.analyticsSetup(window);
//# sourceMappingURL=custom-analytics.js.map
