{"version":3,"sources":["back-link.js","scroll-to-hash.js","print-link.js","single-use.js","cookie-functions.js","cookie-consent.js","application.js"],"names":["global","BackLink","elm","history","back","this","$el","$","setup","bindEvents","prototype","$link","prepend","removeClass","on","e","preventDefault","GOVUK","window","ScrollToHash","selector","handleClick","jQuery","event","location","pathname","replace","hostname","target","hash","length","animate","scrollTop","offset","top","Print","analytics","trackEvent","transport","print","SingleUse","closest","handleSubmit","find","attr","DEFAULT_COOKIE_CONSENT","essential","usage","COOKIE_CATEGORIES","cookie_policy","seen_cookie_message","_ga","_gid","_gat","cookie","name","value","options","setCookie","days","getCookie","setDefaultConsentCookie","JSON","stringify","approveAllCookieTypes","getConsentCookie","consentCookieObj","consentCookie","parse","err","setConsentCookie","cookieConsent","cookieType","document","Date","checkConsentCookieCategory","cookieName","cookieCategory","currentConsentCookie","console","error","checkConsentCookie","cookieValue","cookieString","date","setTime","getTime","toGMTString","protocol","nameEQ","cookies","split","i","len","charAt","substring","indexOf","decodeURIComponent","CookieConsent","isInCookiesPage","isInIframe","displayCookieMessage","enableAllCookies","bind","querySelector","addEventListener","show","message","getElementById","style","display","removeAttribute","evt","analyticsSetup","parent","ready","each","idx","details","init","ShowHideContent","focus"],"mappings":"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","file":"app.js","sourcesContent":[";(function (global) {\n  'use strict'\n\n  var BackLink = function (elm) {\n    if (global.history && global.history.back && elm) {\n      this.$el = $(elm);\n      this.setup();\n      this.bindEvents();\n    }\n  };\n\n  BackLink.prototype.setup = function () {\n    this.$link = $(\n                  '<a class=\"link-back\" href=\"#\">' +\n                    'Back' +\n                    ' <span class=\"visuallyhidden\"> ' +\n                      'to the previous page' +\n                    '</span>' +\n                  '</a>'\n                );\n    this.$el.prepend(this.$link);\n    this.$el.removeClass('no-back-link');\n  };\n\n  BackLink.prototype.bindEvents = function () {\n    this.$link.on(\"click\", function(e) {\n      e.preventDefault();\n      history.back();\n      return false;\n    });\n  };\n\n  GOVUK.BackLink = BackLink\n  global.GOVUK = GOVUK\n})(window)",";(function (global) {\n  'use strict'\n\n  var $ = global.jQuery\n  var GOVUK = global.GOVUK || {}\n\n  var SCROLL_TOP_OFFSET = 90;\n\n  var ScrollToHash = function (selector) {\n    $(selector).on('click', 'a[href*=\"#\"]', this.handleClick)\n  }\n\n  ScrollToHash.prototype.handleClick = function(event) {\n    var isInPageLink = \n      location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && \n      location.hostname == this.hostname\n    \n    if (isInPageLink) {\n      var target = $(this.hash)\n      \n      if (target.length) {\n        $('html, body').animate({\n          scrollTop: target.offset().top - SCROLL_TOP_OFFSET\n        }, 10)\n      }\n     }  \n  }\n\n  GOVUK.ScrollToHash = ScrollToHash\n  global.GOVUK = GOVUK\n})(window)",";(function (global) {\n    'use strict'\n\n    var $ = global.jQuery\n    var GOVUK = global.GOVUK || {}\n\n    var Print = function (selector) {\n        $(selector).on('click', 'a[href*=\"#\"]', this.handleClick)\n    }\n\n    Print.prototype.handleClick = function(event) {\n        var isInPageLink =\n            location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') &&\n            location.hostname == this.hostname\n\n        if (isInPageLink) {\n            GOVUK.analytics.trackEvent('Print-page', 'User requested to print page', { transport: 'beacon' })\n\n            window.print()\n            return false\n        }\n    }\n\n    GOVUK.Print = Print\n    global.GOVUK = GOVUK\n})(window)",";(function (global) {\n    'use strict'\n\n    var $ = global.jQuery\n    var GOVUK = global.GOVUK || {}\n\n    var SingleUse = function (selector) {\n        $(selector).closest('form').on('submit', this.handleSubmit)\n    }\n\n    SingleUse.prototype.handleSubmit = function(e) {\n        var $form = $(e.target);\n\n        // Disable submit button\n        $form.find('.js-single-use').attr('disabled', 'disabled').attr('aria-disabled', 'true');\n    }\n\n    GOVUK.SingleUse = SingleUse\n    global.GOVUK = GOVUK\n})(window)","// https://github.com/alphagov/govuk_publishing_components/master/app/assets/javascripts/govuk_publishing_components/lib/cookie-functions.js\n// used by the cookie banner component\n\n;(function (root) {\n    'use strict'\n    window.GOVUK = window.GOVUK || {}\n\n    var DEFAULT_COOKIE_CONSENT = {\n        'essential': true,\n        'usage': false\n    }\n\n    var COOKIE_CATEGORIES = {\n        'cookie_policy': 'essential',\n        'seen_cookie_message': 'essential',\n        '_ga': 'usage',\n        '_gid': 'usage',\n        '_gat': 'usage',\n    }\n\n    /*\n      Cookie methods\n      ==============\n\n      Usage:\n\n        Setting a cookie:\n        GOVUK.cookie('hobnob', 'tasty', { days: 30 });\n\n        Reading a cookie:\n        GOVUK.cookie('hobnob');\n\n        Deleting a cookie:\n        GOVUK.cookie('hobnob', null);\n    */\n    window.GOVUK.cookie = function (name, value, options) {\n        if (typeof value !== 'undefined') {\n            if (value === false || value === null) {\n                return window.GOVUK.setCookie(name, '', { days: -1 })\n            } else {\n                // Default expiry date of 30 days\n                if (typeof options === 'undefined') {\n                    options = { days: 30 }\n                }\n                return window.GOVUK.setCookie(name, value, options)\n            }\n        } else {\n            return window.GOVUK.getCookie(name)\n        }\n    }\n\n    window.GOVUK.setDefaultConsentCookie = function () {\n        window.GOVUK.setCookie('cookie_policy', JSON.stringify(DEFAULT_COOKIE_CONSENT), { days: 365 })\n    }\n\n    window.GOVUK.approveAllCookieTypes = function () {\n        var approvedConsent = {\n            'essential': true,\n            'usage': true\n        }\n\n        window.GOVUK.setCookie('cookie_policy', JSON.stringify(approvedConsent), { days: 365 })\n    }\n\n    window.GOVUK.getConsentCookie = function () {\n        var consentCookie = window.GOVUK.cookie('cookie_policy')\n        var consentCookieObj\n\n        if (consentCookie) {\n            try {\n                consentCookieObj = JSON.parse(consentCookie)\n            } catch (err) {\n                return null\n            }\n\n            if (typeof consentCookieObj !== 'object' && consentCookieObj !== null) {\n                consentCookieObj = JSON.parse(consentCookieObj)\n            }\n        } else {\n            return null\n        }\n\n        return consentCookieObj\n    }\n\n    window.GOVUK.setConsentCookie = function (options) {\n        var cookieConsent = window.GOVUK.getConsentCookie()\n\n        if (!cookieConsent) {\n            cookieConsent = JSON.parse(JSON.stringify(DEFAULT_COOKIE_CONSENT))\n        }\n\n        for (var cookieType in options) {\n            cookieConsent[cookieType] = options[cookieType]\n\n            // Delete cookies of that type if consent being set to false\n            if (!options[cookieType]) {\n                for (var cookie in COOKIE_CATEGORIES) {\n                    if (COOKIE_CATEGORIES[cookie] === cookieType) {\n                        window.GOVUK.cookie(cookie, null)\n\n                        if (window.GOVUK.cookie(cookie)) {\n                            document.cookie = cookie + '=;expires=' + new Date() + ';domain=.' + window.location.hostname + ';path=/'\n                        }\n                    }\n                }\n            }\n        }\n\n        window.GOVUK.setCookie('cookie_policy', JSON.stringify(cookieConsent), { days: 365 })\n    }\n\n    window.GOVUK.checkConsentCookieCategory = function (cookieName, cookieCategory) {\n        var currentConsentCookie = window.GOVUK.getConsentCookie()\n\n        // If the consent cookie doesn't exist, but the cookie is in our known list, return true\n        if (!currentConsentCookie && COOKIE_CATEGORIES[cookieName]) {\n            return true\n        }\n\n        currentConsentCookie = window.GOVUK.getConsentCookie()\n\n        // Sometimes currentConsentCookie is malformed in some of the tests, so we need to handle these\n        try {\n            return currentConsentCookie[cookieCategory]\n        } catch (e) {\n            console.error(e)\n            return false\n        }\n    }\n\n    window.GOVUK.checkConsentCookie = function (cookieName, cookieValue) {\n        // If we're setting the consent cookie OR deleting a cookie, allow by default\n        if (cookieName === 'cookie_policy' || (cookieValue === null || cookieValue === false)) {\n            return true\n        }\n\n        if (COOKIE_CATEGORIES[cookieName]) {\n            var cookieCategory = COOKIE_CATEGORIES[cookieName]\n\n            return window.GOVUK.checkConsentCookieCategory(cookieName, cookieCategory)\n        } else {\n            // Deny the cookie if it is not known to us\n            return false\n        }\n    }\n\n    window.GOVUK.setCookie = function (name, value, options) {\n        if (window.GOVUK.checkConsentCookie(name, value)) {\n            if (typeof options === 'undefined') {\n                options = {}\n            }\n            var cookieString = name + '=' + value + '; path=/'\n            if (options.days) {\n                var date = new Date()\n                date.setTime(date.getTime() + (options.days * 24 * 60 * 60 * 1000))\n                cookieString = cookieString + '; expires=' + date.toGMTString()\n            }\n            if (document.location.protocol === 'https:') {\n                cookieString = cookieString + '; Secure'\n            }\n            document.cookie = cookieString\n        }\n    }\n\n    window.GOVUK.getCookie = function (name) {\n        var nameEQ = name + '='\n        var cookies = document.cookie.split(';')\n        for (var i = 0, len = cookies.length; i < len; i++) {\n            var cookie = cookies[i]\n            while (cookie.charAt(0) === ' ') {\n                cookie = cookie.substring(1, cookie.length)\n            }\n            if (cookie.indexOf(nameEQ) === 0) {\n                return decodeURIComponent(cookie.substring(nameEQ.length))\n            }\n        }\n        return null\n    }\n}(window))\n",";(function(root) {\n    'use strict';\n\n    window.GOVUK = window.GOVUK || {}\n\n    var CookieConsent = function() {\n        if (!this.isInCookiesPage() && !this.isInIframe() && \"true\" !== window.GOVUK.cookie('seen_cookie_message')) {\n            this.displayCookieMessage(true);\n            window.GOVUK.cookie('cookie_policy') || window.GOVUK.setDefaultConsentCookie()\n        }\n\n        this.enableAllCookies = this.enableAllCookies.bind(this);\n        var acceptButton = document.querySelector('.global-cookie-message__button_accept');\n        acceptButton.addEventListener('click', this.enableAllCookies);\n    }\n\n    CookieConsent.prototype.displayCookieMessage = function(show) {\n        var message = document.getElementById('global-cookie-message');\n\n        if (show) {\n            message.style.display = 'block';\n        } else {\n            message.removeAttribute('style');\n        }\n    };\n\n    CookieConsent.prototype.enableAllCookies = function(evt) {\n        window.GOVUK.approveAllCookieTypes();\n        window.GOVUK.cookie('seen_cookie_message', \"true\");\n        this.displayCookieMessage(false);\n\n        // enable analytics and fire off a pageview\n        window.GOVUK.analyticsSetup(window)\n    }\n\n    CookieConsent.prototype.isInCookiesPage = function() {\n        return '/cookies' === window.location.pathname\n    };\n\n    CookieConsent.prototype.isInIframe = function () {\n        return window.parent && window.location !== window.parent.location\n    },\n\n    window.GOVUK.CookieConsent = CookieConsent\n})(window)","$(document).ready(function () {\n  $('.no-back-link').each(function (idx, elm) {\n    new GOVUK.BackLink(elm)\n  });\n\n  // Details/summary polyfill from frontend toolkit\n  GOVUK.details.init()\n\n  // Where .multiple-choice uses the data-target attribute\n  // to toggle hidden content\n  var showHideContent = new GOVUK.ShowHideContent()\n  showHideContent.init()\n\n  $('.error-summary').focus()\n  new GOVUK.ScrollToHash('.error-summary-list')\n\n  new GOVUK.Print('.print')\n\n  new GOVUK.SingleUse('.js-single-use')\n\n  new GOVUK.CookieConsent()\n})\n"]}