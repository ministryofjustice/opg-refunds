{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "definitions": {},
  "properties": {
    "account": {
      "properties": {
        "details": {
          "description": "User's account details. Encrypted. Base64.",
          "type": "string",
          "maxLength": 2000,
          "pattern": "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"
        },
        "hash": {
          "description": "Seeded SHA512 hash of user's account details. Hex.",
          "type": "string",
          "pattern": "^[0-9a-f]{128}$"
        },
        "name": {
          "description": "(Donor's) name on account.",
          "type": "string",
          "maxLength": 300,
          "pattern": "^[^<>\"\r\n]*$"
        }
      },
      "type": "object"
    },
    "applicant": {
      "description": "Who is applying for the refund; either donor or attorney.",
      "type": "string",
      "enum": ["donor", "attorney"]
    },
    "attorney": {
      "properties": {
        "dob": {
          "description": "Attorney's DOB",
          "type": "string",
          "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
        },
        "name": {
          "properties": {
            "first": {
              "description": "Attorney's current first name.",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            },
            "last": {
              "description": "Attorney's current last name.",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            },
            "title": {
              "description": "Attorney's current title.",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            }
          },
          "type": "object"
        },
        "poa-name": {
          "properties": {
            "first": {
              "description": "Attorney's first name as per POA (if different from current).",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            },
            "last": {
              "description": "Attorney's last name as per POA (if different from current).",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            },
            "title": {
              "description": "Attorney's title as per POA (if different from current).",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            }
          },
          "type": "object"
        }
      },
      "type": "object"
    },
    "case-number": {
      "properties": {
        "poa-case-number": {
          "description": "The case/reference number that appears on their POA.",
          "type": "string",
          "maxLength": 12,
          "pattern": "^[\\d]{7,12}$"
        }
      }
    },
    "postcodes": {
      "properties": {
        "attorney-postcode": {
          "description": "Attorney's postcode, as per POA.",
          "type": "string",
          "maxLength": 20,
          "pattern": "^[^<>\"\r\n]*$"
        },
        "donor-postcode": {
          "description": "Donor's postcode, as per POA.",
          "type": "string",
          "maxLength": 20,
          "pattern": "^[^<>\"\r\n]*$"
        }
      },
      "type": "object"
    },
    "contact": {
      "properties": {
        "email": {
          "description": "Applicant's email address.",
          "type": "string",
          "format": "email"
        },
        "phone": {
          "description": "Applicant's phone number.",
          "type": "string",
          "pattern": "^[+]?[0-9]+$"
        }
      },
      "type": "object"
    },
    "donor": {
      "properties": {
        "dob": {
          "description": "Donor DOB.",
          "type": "string",
          "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
        },
        "name": {
          "properties": {
            "first": {
              "description": "Donor's current first name.",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            },
            "last": {
              "description": "Donor's current last name.",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            },
            "title": {
              "description": "Donor's title name.",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            }
          },
          "type": "object"
        },
        "poa-name": {
          "properties": {
            "first": {
              "description": "Donor's first name as per POA (if different from current).",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            },
            "last": {
              "description": "Donor's last name as per POA (if different from current).",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            },
            "title": {
              "description": "Donor's title as per POA (if different from current).",
              "type": "string",
              "maxLength": 300,
              "pattern": "^[^<>\"\r\n]*$"
            }
          },
          "type": "object"
        }
      },
      "type": "object"
    },
    "expected": {
      "description": "The date by which the applicant expects a response.",
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
    },
    "submitted": {
      "description": "The date on which the refund application was submitted.",
      "type": "string",
      "pattern": "^[\\d]{4}-[\\d]{2}-[\\d]{2}T[\\d]{2}:[\\d]{2}:[\\d]{2}\\+[\\d]{4}$"
    }
  },
  "type": "object"
}
