!function(e){"use strict";function t(){"function"==typeof e.ga&&e.ga.apply(e,arguments)}var n=e.jQuery,i=e.GOVUK||{},a=function(e,n){"string"==typeof n&&(n={cookieDomain:n}),t("create",e,n),t("set","anonymizeIp",!0),t("set","displayFeaturesTask",null)};a.load=function(){!function(e,t,n,i,a,r,o){e.GoogleAnalyticsObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,r=t.createElement(n),o=t.getElementsByTagName(n)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(r,o)}(e,document,"script",0,"ga")},a.prototype.trackPageview=function(e,i,a){var r;"string"==typeof e&&(r={page:e}),"string"==typeof i&&((r=r||{}).title=i),"object"==typeof a&&(r=n.extend(r||{},a)),n.isEmptyObject(r)?t("send","pageview"):t("send","pageview",r)},a.prototype.trackEvent=function(e,i,a){var r,o={hitType:"event",eventCategory:e,eventAction:i};"string"==typeof(a=a||{}).label&&(o.eventLabel=a.label,delete a.label),(a.value||0===a.value)&&("number"!=typeof(r=parseInt(a.value,10))||isNaN(r)||(a.eventValue=r),delete a.value),a.nonInteraction&&(a.nonInteraction=1),"object"==typeof a&&n.extend(o,a),t("send",o)},a.prototype.trackSocial=function(e,i,a,r){var o={hitType:"social",socialNetwork:e,socialAction:i,socialTarget:a};n.extend(o,r),t("send",o)},a.prototype.addLinkedTrackerDomain=function(e,n,i){t("create",e,"auto",{name:n}),t("require","linker"),t(n+".require","linker"),t("linker:autoLink",[i]),t(n+".linker:autoLink",[i]),t(n+".set","anonymizeIp",!0),t(n+".set","displayFeaturesTask",null),t(n+".send","pageview")},a.prototype.setDimension=function(e,n){t("set","dimension"+e,String(n))},i.GoogleAnalyticsUniversalTracker=a,e.GOVUK=i}(window),function(e){"use strict";var t=e.jQuery,n=e.GOVUK||{},i=function(e){this.gifUrl=e,this.dimensions=[]};i.load=function(){},i.prototype.trackPageview=function(e,n,i){var a;"string"==typeof e&&(a={page:e}),"string"==typeof n&&((a=a||{}).title=n),"object"==typeof i&&(a=t.extend(a||{},i)),t.isEmptyObject(a)?this.sendToTracker("pageview"):this.sendToTracker("pageview",a)},i.prototype.trackEvent=function(e,n,i){var a={eventCategory:e,eventAction:n};(i=i||{}).label&&(a.eventLabel=i.label,delete i.label),i.value&&(a.eventValue=i.value.toString(),delete i.value),"object"==typeof i&&t.extend(a,i),this.sendToTracker("event",a)},i.prototype.trackSocial=function(e,n,i,a){var r={socialNetwork:e,socialAction:n,socialTarget:i};t.extend(r,a),this.sendToTracker("social",r)},i.prototype.addLinkedTrackerDomain=function(){},i.prototype.setDimension=function(e,t){this.dimensions["dimension"+e]=t},i.prototype.payloadParams=function(n,i){var a=t.extend({},i,this.dimensions,{eventType:n,referrer:e.document.referrer,gaClientId:this.gaClientId,windowWidth:e.innerWidth,windowHeight:e.innerHeight,screenWidth:e.screen.width,screenHeight:e.screen.height,colorDepth:e.screen.colorDepth});if(e.performance){a.navigationType=e.performance.navigation.type.toString(),a.redirectCount=e.performance.navigation.redirectCount.toString();for(var r in e.performance.timing){var o=e.performance.timing[r];"string"!=typeof o&&"number"!=typeof o||(a["timing_"+r]=o.toString())}}return a},i.prototype.sendData=function(e){var n=this.gifUrl+"?"+t.param(e);t.get(n)},i.prototype.sendToTracker=function(n,i){t(e.document).ready(function(){e.ga?e.ga(function(e){this.gaClientId=e.get("clientId"),this.sendData(this.payloadParams(n,i))}.bind(this)):this.sendData(this.payloadParams(n,i))}.bind(this))},n.GOVUKTracker=i,e.GOVUK=n}(window),function(e){"use strict";var t=e.GOVUK||{},n=function(e){if(this.trackers=[],"undefined"!=typeof e.universalId){var n=e.universalId;delete e.universalId,this.trackers.push(new t.GoogleAnalyticsUniversalTracker(n,e))}if("undefined"!=typeof e.govukTrackerUrl){var i=e.govukTrackerUrl;delete e.govukTrackerUrl,this.trackers.push(new t.GOVUKTracker(i))}};n.prototype.sendToTrackers=function(e,t){for(var n=0,i=this.trackers.length;n<i;n++){var a=this.trackers[n],r=a[e];"function"==typeof r&&r.apply(a,t)}},n.load=function(){t.GoogleAnalyticsUniversalTracker.load(),t.GOVUKTracker.load()},n.prototype.trackPageview=function(e,t,n){this.sendToTrackers("trackPageview",arguments)},n.prototype.trackEvent=function(e,t,n){this.sendToTrackers("trackEvent",arguments)},n.prototype.trackShare=function(t,n){this.sendToTrackers("trackSocial",[t,"share",e.location.pathname,n])},n.prototype.setDimension=function(e,t){this.sendToTrackers("setDimension",arguments)},n.prototype.addLinkedTrackerDomain=function(e,t,n){this.sendToTrackers("addLinkedTrackerDomain",arguments)},t.Analytics=n,e.GOVUK=t}(window),function(e){"use strict";var t=e.jQuery,n=e.GOVUK||{};n.analyticsPlugins=n.analyticsPlugins||{},n.analyticsPlugins.externalLinkTracker=function(){function e(e){var n=t(e.target);return n.is("a")||(n=n.parents("a")),n}var i='a[href^="http"]:not(a[href*="'+n.analyticsPlugins.externalLinkTracker.getHostname()+'"])';t("body").on("click",i,function(i){var a=e(i),r={transport:"beacon"},o=a.attr("href"),s=t.trim(a.text());s&&(r.label=s),n.analytics.trackEvent("External Link Clicked",o,r)})},n.analyticsPlugins.externalLinkTracker.getHostname=function(){return e.location.hostname},e.GOVUK=n}(window),function(e){"use strict";var t=e.jQuery,n=e.GOVUK||{};n.analyticsPlugins=n.analyticsPlugins||{},n.analyticsPlugins.formErrorTracker=function(){function e(e){var n,i,a=t(e).attr("href"),r=t(a),o=(r.is("legend"),r.is("input"),r.prop("id")),s=document.getElementById(o).nodeName.toLowerCase();return"input"===s?(n=t.trim(t('label[for="'+o+'"] .question-text').text()),n=(i=t.trim(r.closest("fieldset").find("legend").text())).length>0?i+": "+n:n):"legend"===s&&(n=t.trim(r.find(".question-text").text())),n}for(var i=t(".error-summary-list li a"),a=0;a<i.length;a++)!function(i){var a=t(i),r=t.trim(a.text()),o=a.attr("href"),s=e(i),c={transport:"beacon",label:o+" - "+r};window.optionsGlobal=c,n.analytics.trackEvent("Error-field",s,c)}(i[a])},e.GOVUK=n}(window),GOVUK.analyticsSetup=function(e){"use strict";e.jQuery;var t=e.GOVUK||{},n=e.gaConfig||{};t.Analytics.load();var i="powerofattorneyrefund.service.justice.gov.uk"===document.domain?".powerofattorneyrefund.service.justice.gov.uk":document.domain;t.analytics=new t.Analytics({universalId:n.universalId||"",cookieDomain:i}),"undefined"!=typeof n.sessionId&&t.analytics.setDimension(n.dimensions.ANONYMOUS_SESSION_ID,n.sessionId),"undefined"!=typeof n.releaseTag&&t.analytics.setDimension(n.dimensions.RELEASE_TAG,n.releaseTag),t.analyticsPlugins.formErrorTracker(),t.analyticsPlugins.externalLinkTracker(),"undefined"!=typeof t.pageviewOptions?t.analytics.trackPageview(null,null,t.pageviewOptions):t.analytics.trackPageview()},GOVUK.analyticsSetup(window);
//# sourceMappingURL=custom-analytics.js.map
